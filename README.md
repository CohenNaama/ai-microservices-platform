# AI-Powered Microservices Platform

A scalable, production-grade microservices architecture for intelligent text processing, built with FastAPI, Kafka, Redis, and PostgreSQL. Designed for real-world backend challenges including asynchronous communication, modular design, and AI integration.

---

## What This Project Demonstrates

- Modern **microservices architecture** with containerized deployment
- **Kafka** for asynchronous, decoupled communication
- **Redis** for caching, deduplication, and rate-limiting (soon)
- **PostgreSQL** for persistent and structured data storage
- Structured **logging, validation, error handling**, and **test coverage**
- Designed to scale with additional AI services like summarization, sentiment analysis, and smart tagging

---

##  System Architecture

![System Architecture](./assets/system-architecture.png)

This diagram shows how messages flow through the distributed pipeline â€“ from user input to multi-stage processing and storage.

---

## ğŸ“Œ Features â€“ Implemented So Far

âœ… **Text Receiver service**  
â†’ Validates input, logs user messages, sends to Kafka  
â†’ Stores data in PostgreSQL (with `user_id` tracking)  
â†’ Handles deduplication with Redis

âœ… **Kafka Integration**  
â†’ Producer with UTF-8 support, `ensure_ascii=False`  
â†’ Consumer handles structured messages and persists results

âœ… **Redis Setup**  
â†’ Connected, tested, and integrated for caching and deduplication logic

âœ… **PostgreSQL Setup**  
â†’ Integrated with SQLAlchemy ORM  
â†’ Table created for `processed_texts` including `user_id`

âœ… **Dockerized Infrastructure**  
â†’ Full `docker-compose.yml` with Kafka, Zookeeper, Redis, PostgreSQL  
â†’ Services communicate cleanly across networks

âœ… **Unit Testing**  
â†’ High coverage on Kafka, Redis, routes, and exception handlers  
â†’ Pytest configuration with custom markers

âœ… **Logging & Error Handling**  
â†’ Structured log messages  
â†’ Centralized exception capture  
â†’ Developer-friendly validation feedback

---

## ğŸ› ï¸ Tech Stack

| Component       | Stack / Tools                          |
|----------------|-----------------------------------------|
| **API Framework** | FastAPI                               |
| **Async Messaging** | Apache Kafka                       |
| **Database**    | PostgreSQL (14) + SQLAlchemy ORM       |
| **Cache / Deduplication** | Redis                        |
| **Containerization** | Docker + Docker Compose           |
| **Testing**     | Pytest + Coverage + Custom markers     |
| **Monitoring**  | (Coming soon) Prometheus + Grafana     |
| **AI Services** | (Planned) OpenAI, HuggingFace, Transformers |

---

## ğŸ§± Microservices â€“ Status

| Service             | Status     | Notes                                       |
|---------------------|------------|---------------------------------------------|
| **Text Receiver**    | âœ… Ready    | Includes DB, Kafka, Redis, validation       |
| **Summarizer**       | ğŸš§ Planned | Uses OpenAI API                             |
| **Sentiment Analyzer** | ğŸš§ Planned | Uses HuggingFace pipeline                 |
| **Tag Generator**    | ğŸš§ Planned | NLP-based tag extraction                    |
| **Aggregator**       | ğŸš§ Planned | Combines AI results                         |
| **Notifier**         | ğŸš§ Planned | Saves + sends results                       |
| **Auth Service**     | ğŸ•“ Future  | OAuth2, JWT, RBAC                           |
| **Dashboard UI**     | ğŸ•“ Future  | WebSocket + React real-time interface       |

---

## ğŸ§ª Testing & Coverage

- âœ… `pytest.ini` with `pythonpath` for clean imports
- âœ… Tagged markers: `kafka`, `redis`, `integration`, `security`
- âœ… Tests for routes, Kafka logic, deduplication, exceptions

---

## ğŸ§¾ Documentation

- ğŸ“„ [Product Specification](./docs/product-spec.md)
- ğŸ“„ OpenAPI docs auto-generated by FastAPI (`/docs`)
- ğŸ–¼ï¸ Architecture diagram in `/assets/system-architecture.png`

---

## ğŸ”œ Roadmap â€“ Coming Next

- â­ï¸ Build Summarizer service
- â­ï¸ Add Auth & JWT protection
- â­ï¸ Improve logging format & tracing (e.g. request ID)
- â­ï¸ Add monitoring with Prometheus + Grafana
- â­ï¸ Move to Kubernetes for scalable deployment

---

## ğŸ“¦ How to Run Locally

```bash
# Clone the project
git clone https://github.com/CohenNaama/ai-microservices-platform.git

# Spin up the full stack
docker compose up --build

# Access FastAPI docs
http://localhost:8000/docs

# Access Kafka UI
http://localhost:8080

# Use Redis CLI
docker exec -it redis redis-cli

# Postgres CLI
docker exec -it postgres psql -U postgres -d ai_microservices
```

---

## ğŸ‘©â€ğŸ’» For Recruiters & Collaborators

This project is built as a showcase of:

- âœ… Real-world **backend experience**
- âœ… Distributed **system architecture**
- âœ… Hands-on **Kafka / Redis / PostgreSQL** integration
- âœ… Strong fundamentals in **testing, logging, security, and scaling**

 *Feel free to explore the codebase, raise issues, or get in touch!*

---
