# AI-Powered Microservices Platform

A scalable, production-grade microservices architecture for intelligent text processing, built with FastAPI, Kafka, Redis, and PostgreSQL. Designed for real-world backend challenges including asynchronous communication, modular design, and AI integration.

---

## What This Project Demonstrates

- Modern **microservices architecture** with containerized deployment
- **Kafka** for asynchronous, decoupled communication
- **Redis** for caching, deduplication, and rate-limiting (soon)
- **PostgreSQL** for persistent and structured data storage
- Structured **logging, validation, error handling**, and **test coverage**
- Designed to scale with additional AI services like summarization, sentiment analysis, and smart tagging

---

##  System Architecture

![System Architecture](./assets/system-architecture.png)

This diagram shows how messages flow through the distributed pipeline – from user input to multi-stage processing and storage.

---

## 📌 Features – Implemented So Far

✅ **Text Receiver service**  
→ Validates input, logs user messages, sends to Kafka  
→ Stores data in PostgreSQL (with `user_id` tracking)  
→ Handles deduplication with Redis

✅ **Kafka Integration**  
→ Producer with UTF-8 support, `ensure_ascii=False`  
→ Consumer handles structured messages and persists results

✅ **Redis Setup**  
→ Connected, tested, and integrated for caching and deduplication logic

✅ **PostgreSQL Setup**  
→ Integrated with SQLAlchemy ORM  
→ Table created for `processed_texts` including `user_id`

✅ **Dockerized Infrastructure**  
→ Full `docker-compose.yml` with Kafka, Zookeeper, Redis, PostgreSQL  
→ Services communicate cleanly across networks

✅ **Unit Testing**  
→ High coverage on Kafka, Redis, routes, and exception handlers  
→ Pytest configuration with custom markers

✅ **Logging & Error Handling**  
→ Structured log messages  
→ Centralized exception capture  
→ Developer-friendly validation feedback

---

## 🛠️ Tech Stack

| Component       | Stack / Tools                          |
|----------------|-----------------------------------------|
| **API Framework** | FastAPI                               |
| **Async Messaging** | Apache Kafka                       |
| **Database**    | PostgreSQL (14) + SQLAlchemy ORM       |
| **Cache / Deduplication** | Redis                        |
| **Containerization** | Docker + Docker Compose           |
| **Testing**     | Pytest + Coverage + Custom markers     |
| **Monitoring**  | (Coming soon) Prometheus + Grafana     |
| **AI Services** | (Planned) OpenAI, HuggingFace, Transformers |

---

## 🧱 Microservices – Status

| Service             | Status     | Notes                                       |
|---------------------|------------|---------------------------------------------|
| **Text Receiver**    | ✅ Ready    | Includes DB, Kafka, Redis, validation       |
| **Summarizer**       | 🚧 Planned | Uses OpenAI API                             |
| **Sentiment Analyzer** | 🚧 Planned | Uses HuggingFace pipeline                 |
| **Tag Generator**    | 🚧 Planned | NLP-based tag extraction                    |
| **Aggregator**       | 🚧 Planned | Combines AI results                         |
| **Notifier**         | 🚧 Planned | Saves + sends results                       |
| **Auth Service**     | 🕓 Future  | OAuth2, JWT, RBAC                           |
| **Dashboard UI**     | 🕓 Future  | WebSocket + React real-time interface       |

---

## 🧪 Testing & Coverage

- ✅ `pytest.ini` with `pythonpath` for clean imports
- ✅ Tagged markers: `kafka`, `redis`, `integration`, `security`
- ✅ Tests for routes, Kafka logic, deduplication, exceptions

---

## 🧾 Documentation

- 📄 [Product Specification](./docs/product-spec.md)
- 📄 OpenAPI docs auto-generated by FastAPI (`/docs`)
- 🖼️ Architecture diagram in `/assets/system-architecture.png`

---

## 🔜 Roadmap – Coming Next

- ⏭️ Build Summarizer service
- ⏭️ Add Auth & JWT protection
- ⏭️ Improve logging format & tracing (e.g. request ID)
- ⏭️ Add monitoring with Prometheus + Grafana
- ⏭️ Move to Kubernetes for scalable deployment

---

## 📦 How to Run Locally

```bash
# Clone the project
git clone https://github.com/CohenNaama/ai-microservices-platform.git

# Spin up the full stack
docker compose up --build

# Access FastAPI docs
http://localhost:8000/docs

# Access Kafka UI
http://localhost:8080

# Use Redis CLI
docker exec -it redis redis-cli

# Postgres CLI
docker exec -it postgres psql -U postgres -d ai_microservices
```

---

## 👩‍💻 For Recruiters & Collaborators

This project is built as a showcase of:

- ✅ Real-world **backend experience**
- ✅ Distributed **system architecture**
- ✅ Hands-on **Kafka / Redis / PostgreSQL** integration
- ✅ Strong fundamentals in **testing, logging, security, and scaling**

 *Feel free to explore the codebase, raise issues, or get in touch!*

---
